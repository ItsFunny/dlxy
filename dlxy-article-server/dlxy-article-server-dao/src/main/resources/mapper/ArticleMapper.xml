<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >


<mapper namespace="com.dlxy.server.article.dao.mybatis.ArticleMybatisDao">
	<update id="updateInBatch" parameterType="java.util.Map">
		update dlxy_article set article_status=#{status}
		<if test="status==2">
			,delete_date =#{deleteDate}
		</if>
		where 1=1 
		<if test="null!=titleId and titleId >0">
			and exists(select 1 from dlxy_title where title_id =#{titleId}
		</if>
		and article_id in 
		<foreach collection="list" index="index" open="(" separator="," close=")" item="id">
			#{id}
		</foreach>
	</update>
	
	<delete id="deleteInBatch">
		
		delete from dlxy_article where article_id in 
		<foreach collection="array" index="index" open="(" close=")" separator="," item="articleId">
			#{articleId}
		</foreach>
	
	</delete>
</mapper>